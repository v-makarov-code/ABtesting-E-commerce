## А/Б тестрирование новой механики оплаты на сайте

### Цель
Проанализировать итоги эксперимента и сделать вывод, стоит ли запускать новую механику оплаты на всех пользователей.

### Описание

Проверка гипотезы, что добавление нового способа оплаты увеличивает целевые метрики.  
Метрики: ARPPU, ARPAU, CR  
A - контрольная группа  
Б - тестовая группа  

### Входные данные 

В качестве входных данных вы имеете 4 csv-файла  

groups.csv – файл с информацией о принадлежности пользователя к контрольной или экспериментальной группе (А – контроль, B – целевая группа)  
groups_add.csv – дополнительный файл с пользователями, который вам прислали спустя 2 дня после передачи данны  х
active_studs.csv – файл с информацией о пользователях, которые зашли на платформу в дни проведения эксперимент  а. 
checks.csv – файл с информацией об оплатах пользователей в дни проведения эксперимен  

### Проверка гипотез
 


В ходе анализа были проанализированны такие метрики как: 

* ARPPU - средний доход с платящего пользователя
* ARPAU - средний доход с активного пользователя
* CR - коверсия активного пользователя в покупку

Различия во всех этих метриках между группами присутвует, но не для всех метрик эти различия стат. значимые.

Для проверки стат. значимости ARPPU использовался T-тест. Использование обычного Т-теста обосновано достаточно большими выборками среди групп, несмотря на ненормальность самого распределения. Было проверено также, что распределение не является лог-нормальным, несмотря на то, что распределения доходов могут обладать такими свойствами. Тест показал стат.значимые различия среди групп.

Для проверки стат.значимости ARPAU будем использовать лишь построенный график с доверительными интервалами, из-за большого кол-ва нулей в распределении Т-тест не является надежным. Однако лишь график показывает, что доверетельные интервалы перекрываются больше чем наполовину, что означает стат. незначимые различия. 

Из формулы ARPAU = ARPPU * CR(активных пользователей) напрямую не следует, что из-за стат.значимости обоих ARPPU и CR будет стат.значимость ARPAU, однако очевидно, что если мы повышаем CR, то ARPAU также будет расти, при возрастающем ARPPU. Поэтому провдение стат. теста для конверсии активных пользователей в покупку будет более чем адекватной метрикой, чтобы понять как проявились изменения на эту группу пользователей.

Для проверки стат.значимости CR активного пользователя в покупку будем использовать критерий Хи-квадрат, переведя переменную доходы в категориальную - "купил" или "не купил". В результате группа B имеет меньшую конверсию, однако критерий Хи-квадрат показывает, что различия не стат. значимые. 

При добавлении новых значений в таблицу groups вывод по всем трем метрикам не меняетс

### Выводя. 

**Рекомендуется запускать новую механику** оплаты для всех пользователей. Результаты имеют стат. значимые различия для пользователей, на которые нацелено это изменение, а именно **платящие пользователи**. Результат анализа выстраиваются в логическую рамку, где на просто активных пользователей изменение не имеет никого значения, потому что не все из них доходят до экрана оплаты. Однако для пользователей, которые непосредственно пользуются новой фичей, а именно платящие пользователи, их средние расходы растут, скорее всего из-за более гибкого выбора в опла

### Стек

- Python 3.13
те.

